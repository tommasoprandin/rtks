Processing_Resource (
	Type => Regular_Processor,
	Name => cpu,
	Max_Interrupt_Priority => 255,
	Min_Interrupt_Priority => 241,
	Worst_ISR_Switch => 2.578E-06,
	System_Timer =>
		( Type => Ticker,
		Worst_Overhead => 3.844E-06,
		Period => 0.001000),
	Speed_Factor => 1.00);


Scheduler (
	Type => Primary_Scheduler,
	Name => fps,
	Host => cpu,
	Policy =>
		( Type => Fixed_Priority,
		Worst_Context_Switch => 3.090E-06,
		Max_Priority => 240,
		Min_Priority => 1));


Scheduling_Server (
    Type => Regular,
    Name => activation_log_reader,
    Server_Sched_Parameters =>
        ( Type => Fixed_Priority_Policy,
        The_Priority => 11,
        Preassigned => YES),
    Scheduler => fps);

Scheduling_Server (
    Type => Regular,
    Name => external_event_server,
    Server_Sched_Parameters =>
        ( Type => Fixed_Priority_Policy,
        The_Priority => 3,
        Preassigned => YES),
    Scheduler => fps);

Scheduling_Server (
    Type => Regular,
    Name => on_call_producer,
    Server_Sched_Parameters =>
        ( Type => Fixed_Priority_Policy,
        The_Priority => 5,
        Preassigned => YES),
    Scheduler => fps);

Scheduling_Server (
	Type => Regular,
	Name => regular_producer,
	Server_Sched_Parameters =>
		( Type => Fixed_Priority_Policy,
		The_Priority => 7,
		Preassigned => YES),
	Scheduler => fps);


Shared_Resource (
    Type => Immediate_Ceiling_Resource,
    Name => activation_log,
    Ceiling => 11,
    Preassigned => YES);

Shared_Resource (
    Type => Immediate_Ceiling_Resource,
    Name => event_queue,
    Ceiling => 241,
    Preassigned => YES);

Shared_Resource (
	Type => Immediate_Ceiling_Resource,
	Name => request_buffer,
	Ceiling => 7,
	Preassigned => YES);

Shared_Resource (
    Type => Immediate_Ceiling_Resource,
    Name => task_semaphore,
    Ceiling => 7,
    Preassigned => YES);


Operation (
    Type => Simple,
    Name => rp_small_whetstone,
    Worst_Case_Execution_Time => 2.000E-06);

Operation (
    Type => Simple,
    Name => alr_small_whetstone,
    Worst_Case_Execution_Time => 2.000E-06);

Operation (
    Type => Simple,
    Name => ocp_small_whetstone,
    Worst_Case_Execution_Time => 2.000E-06);

Operation (
    Type => Simple,
    Name => due_activation,
    Worst_Case_Execution_Time => 2.000E-06);

Operation (
    Type => Simple,
    Name => check_due,
    Worst_Case_Execution_Time => 2.000E-06);

Operation (
    Type => Simple,
    Name => rp_activation_calculations,
    Worst_Case_Execution_Time => 2.000E-06);

Operation (
    Type => Simple,
    Name => alr_signal,
    Worst_Case_Execution_Time => 2.000E-06,
    Shared_Resources_To_Lock =>
        ( task_semaphore),
    Shared_Resources_To_Unlock =>
        ( task_semaphore));

Operation (
	Type => Simple,
	Name => al_write,
	Worst_Case_Execution_Time => 2.000E-06,
	Shared_Resources_To_Lock =>
		( activation_log),
	Shared_Resources_To_Unlock =>
		( activation_log));

Operation (
	Type => Simple,
	Name => al_read,
	Worst_Case_Execution_Time => 2.000E-06,
	Shared_Resources_To_Lock =>
		( activation_log),
	Shared_Resources_To_Unlock =>
		( activation_log));

Operation (
	Type => Simple,
	Name => rb_deposit,
	Worst_Case_Execution_Time => 2.000E-06,
	Shared_Resources_To_Lock =>
		( request_buffer),
	Shared_Resources_To_Unlock =>
		( request_buffer));

Operation ( 
    Type => Enclosing,
    Name => ocp_start,
    Worst_Case_Execution_Time => 2.000E-06,
    Composite_Operation_List =>
        ( rb_deposit ));

Operation (
	Type => Simple,
	Name => rb_extract,
	Worst_Case_Execution_Time => 2.000E-06,
	Shared_Resources_To_Lock =>
		( request_buffer),
	Shared_Resources_To_Unlock =>
		( request_buffer));

Operation (
    Type => Composite,
    Name => rp_operation,
    Composite_Operation_List =>
        ( rp_activation_calculations,
        put_line,
        rp_small_whetstone,
        due_activation,
        ocp_start,
        check_due,
        alr_signal,
        put_line));


Transaction (
	Type => regular,
	Name => rp_transaction,
	External_Events =>
		( ( Type => Periodic,
				Name => e1,
				Period => 1.000,
				Max_Jitter => 0.000,
				Phase => 0.000)),
	Internal_Events =>
		( ( Type => Regular,
				Name => rpo1,
				Timing_Requirements =>
					( Type => Hard_Global_Deadline,
						Deadline => 0.500000,
						Referenced_Event => e1))),
	Event_Handlers =>
		( (Type => System_Timed_Activity,
			Input_Event => e1,
			Output_Event => rpo1,
			Activity_Operation => rb_operation, 
			Activity_Server => regular_producer))); 